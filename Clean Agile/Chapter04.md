# 팀 실천방법

## 메타포
- 메타포는 프로젝트의 용어를 팀이 모두 아는 무언가에 비유하는 일이기 때문에 메타포 라는 이름을 붙였다.
- 메타포는 고객과 사업부서, 개발부서에서 모두 공통적으로 사용하므로 이해하기 어려운 메타포를 사용하거나 적절하지 않은 메타포를 사용하는것은 바람직하지 않다.
### [도메인 주도 설계 (DDD)](https://en.wikipedia.org/wiki/Domain-driven_design)
- 도메인 주도 설계는 유비쿼터스 언어를 통해 개발자부터 비지니스 담당자까지 모두 같은 용어를 사용하도록 하는 개발방식이다.
- 비지니스로서 정리된 용어는 클래스, 변수명, 함수, 인수테스트 등에 실제로 적용되어야한다는 것이 핵심이다.
- 도메인 주도 설계에 대해서는 생각보다 알아야하는 내용이 많다.
    - Domain, Entity, Bounded Context... 어플리케이션의 여러 레이어와 각 구성요소를 나누고 어떻게 설계해야하는가에 대한 원칙을 제시해준다.
- 책에서 핵심적으로 알아야할 내용은 도메인 주도 설계를 통해 비지니스 부서부터 개발부서 그리고 고객까지 유비쿼터스 언어를 통해 쉽게 소통할 수 있도록 한다는 내용이 주된 내용이다.
    - 유비쿼터스 언어를 사용하지 못한 경우에 대한 나쁜 사례>
        - 우리가 서비스하는 서비스에는 팝업공지 이라는 시스템이 존재한다.
        - 팝업 공지는 다음과 같이 다양한 이름을 갖고있다.
        - 클라이언트 프로그래머 (실제 코드와 주석에도 사용됨)
            - CheckMaintenance
            - 점검팝업.
            - MaintenancePopup
        - 백오피스에는 팝업 공지라는 서비스로 제공된다.
        - 또한 팝업공지는 다음 네가지의 타입을 갖는다.
            - 서버점검 팝업
            - 업데이트 팝업
            - 일반공지 팝업
            - 국가차단 팝업
        - 서버팀에서 개발한 API의 명칭은 Maintenance라는 API를 사용한다.
            - Maintenance API를 통해서 백오피스에서 설정한 데이터를 받을 수 있으며, 타입을 어떻게 설정하느냐에 따라 버튼의 개수와 버튼의 역할일 달라진다.
            - 따라서 API에는 버튼의 개수, 버튼의 기능이 명시되어 전달된다.
            - 따라서 단일 API로 네가지 타입의 공지를 모두 노출할 수 있게 된다.
        - 문제점은 다음과 같다.
            - 클라이언트 프로그래머는 점검 팝업이라는 이름으로만 소통하고 코드 또한 점검팝업(MaintenacePopup)이라는 이름을 사용한다.
            - 클라이언트 프로그래머는 점검 팝업을 띄우는 API로 CheckMaintenance를 구현하여 고객에게 재공하였기 때문에 고객 또한 CheckMaintenance를 사용한다.
            - 서버 프로그래머 또한 Maintenance라는 API로 소통한다.
            - 하지만 기획팀과 비지니스부서에서는 백오피스만을 사용하기 때문에 서버점검, 업데이트, 일반공지, 국가차단 등의 용어로 소통하며 네가지 기능이 모두 같은 API를 통해 구현된다는 것을 전혀 모르기 때문에 항상 다른 API인것처럼 질문하고 다르게 구현되어있을 것이다라고 생각하게 된다.
            - 여기서 오는 커뮤니케이션 비용이 상당히 발생하게되고 신규 담당자가 오게되어 백오피스에 있는 용어로 소통한다면 아마 클라이언트 코드에서 어떤 코드를 확인해야하는가 많이 남감해질 것이다.
        - 이렇게 개발된 이유를 상상해보면 다음과 같다.
            - 최초에 백오피스에는 점검팝업으로만 기획되었고, 개발되었을 것이다.
            - 하지만 이후에 업데이트, 일반공지, 국가차단에 대한 요구사항이 생겼을 것이고 가장 적절한 API로 Maintenance가 지목되었을 것이다.
            - 이후에 클라이언트 개발자들과 버튼개수를 동적으로 조절하는 방식에 대해서 소통하였을 것이고, 쿨라이언트 개발자들은 "점검팝업"에 버튼 개수가 조절될 수 있구나 정도로 판단했을 수 있다.
            - 때문에 이름은 여전히 CheckMaintenance이며 마치 점검팝업에만 사용될 것같은 이름이다.
            - 하지만 백오피스에 명칭은 점검팝업 역할만 수행하는 것이 아니고 다양한 팝업을 띄울 수 있는 기능으로 바뀌었으므로 팝업공지라는 이름을 사용하게 되었다.
        - 문제점을 해결하려면
            - 문제점을 해결하기 위해서는 클라이언트 코드를 팝업공지(NoticePopup or PopupNotice)로 바꾸어야한다.
            - 또한 API이름도 PopupNotice로 바꾸어야하며 PopupNotice의 스팩으로 네가지 형식에 대해서 명확히 정의되어야한다.
            - 단순히 버튼 개수가 조절되어 올 수 있다의 방식도 확장성이 좋지만 하다못해 주석으로 백오피스에 대한 내용을 남겨야할것이다.

## 지속 가능한 속도
- 야근하지마라.
- 야근하면 지치고 나쁜 코드를 만들확율이 높다.
- 물론 정말로 어쩔수 없을 경우도 있자만 중요한것은 목표지점까지 같은 속도를 유지하는 것이다.

## 공동 소유
- 개발에 대해서 서로의 경계를 두지 않도록 해야한다.
- 각자 전문적인 분야가 있을 수 있지만, 다른 부분도 어느정도 할 수 있어야한다.
- 서로 공유하지 않는다면 중복된 코드를 많이 작성할 수 있으며, 소통도 원할하지 않게된다.

## 지속적 통합
- 지속적 통합은 누구나 쉽게 소스코드를 체크아웃한뒤 메인 브런치에 자주 머지해야한다는 뜻이다.
- 모든 테스트와 인수테스트는 항상 통과해야하며 배포가능한 상태를 유지해야한다.

### 지속적 빌드
- 현재는 Jenkins와, Teamcity, Bamboo 등 다양한 지속적 빌드 시스템이 존재한다.
- 지속적 빌드 시스템은 소스코드의 변경사항을 스스로 체크하고 빌드를 수행하여 코드가 작동하는지 머지가능한지를 지속적으로 검증해준다.
- 지속적 빌드는 절대로 꺠지지 않도록 해야한다. 인수테스트, 단위테스트가 모두 정상작동해야하며 빌드도 정상적으로 가능해야한다.
- 마감일정의 압박이 심해지면 속임수를 써서 빌드가 무조건 통과되도록 만들 수 있는데, 이렇게되면 지속적 빌드 시스템은 망가지게 된다.
    - 결국 아무도 원래대로 작동하도록 하지 않으며 망가진 채로 유지될 가능성이 높다.

## 스텐드업 미팅
- 미팅 참석은 필수가 아님, 한명쯤 빠져도 문제는 없음.
- 꼭 매일 해야하는 것은 아님, 일정에 맞춰서
- 10분이 넘으면 안됨. (스텐드업 미팅은 회의가 길어지는 것을 막기위해 서서하는것 이므로)
- 회의는 단순하게 진행함 다음 세가지에 대해서 서로 답해야함
    - 지난 미팅이후 무엇을 했는가?
    - 다음 미팅까지 무엇을 할건가?
    - 문제점이 있는가?
- 핵심은 자주 서로에 대해 소통해라 인것으로 보인다.

## 이번 장에서 느낀점
- 이번장에서는 동료들과 서로 협업하기 위한 다양한 방법들을 제시해준것같다.
- 메타포의 경우는 도입의 필요성을 절실히 느낀다.
- 지속적 통합에서 단위테스트의 경우 정말로 마감일이 급하다고 빼버리면 이후 약 4-5년은 작동하지 않을것이다.. 혹은 평생 작동안할지도 모른다.
- 공동 소유의 경우는 문서화가 중요해 보이는데 이러한 부분에 대해서 설명없이 단지 경계를 없애라 라고만 하고 어떻게 경계를 없애는가 에대해서 설명해주지 않은것이 조금 아쉬웠다.
- 스탠드업 미팅의 경우 매주 월요일에 하고 있었는데 방식은 좀 달랐지만 3가지 질문을 하는것은 동일하게 하고있었다.
    - 일주일마다 누가 무엇을 어떻게 하는지, 하고있는지 알 수 있고, 문제점을 파악할 수 있는 장점이 있기는 했다.
    - 우리의 경우는 특이 사항이 없을경우 30분이 안넘도록 하고 있었는데, 조금더 시간을 줄여봐도 괜찮을것같다.
- 전반적으로 왜 이런일들을 해야하는가에 대한 언급이 좀더 상세하게 있었다면 좋을것이다.
